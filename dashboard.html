<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel Principal | Gestor Escolar</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Sharp" rel="stylesheet" />
</head>
<body>

    <div class="sidebar">
        <a href="dashboard.html" data-role="all">
            <span class="material-symbols-sharp">home</span>
            Inicio
        </a>
        <a href="calificaciones.html" data-role="all">
            <span class="material-symbols-sharp">grading</span>
            Calificaciones
        </a>
        <a href="facturacion.html" data-role="director administrador">
            <span class="material-symbols-sharp">attach_money</span>
            Facturación
        </a>
        <a href="registro.html" data-role="director administrador">
            <span class="material-symbols-sharp">folder_open</span>
            Registro
        </a>
        <a data-role="all">
            <span class="material-symbols-sharp">account_circle</span>
            Account
        </a>
    </div>

    <main>
        <h2 id="welcome"></h2>
        <p>Seleccione una sección del menú para comenzar.</p>
    </main>

    <script>
        const role = localStorage.getItem('userRole');
        const user = localStorage.getItem('userName') || 'Usuario';

        // Show welcome name
        document.getElementById('welcome').innerText = `Bienvenido, ${user}`;

        // Filter sidebar items by role
        document.querySelectorAll('.sidebar a').forEach(link => {
            const allowedRoles = link.getAttribute('data-role');
            if (!allowedRoles || allowedRoles === 'all') return;

            if (!allowedRoles.includes(role)) {
                link.style.display = 'none';
            }
        });

        // If no role is found, redirect to login
        if (!role) {
            window.location.href = 'index.html';
        }
    </script>
</body>
</html>
